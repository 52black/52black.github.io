
<!DOCTYPE html>
<html>
<head>
  <meta content="B4工具集" name=keywords><meta content="死亡计算器" name=description>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width">
  <title>B4工具集-死亡计算器 bu40.com</title>
  <link rel="stylesheet" href="//cdnjs.loli.net/ajax/libs/mdui/0.4.3/css/mdui.min.css">
</head>
<body class="mdui-theme-primary-indigo mdui-theme-accent-pink">

<div class="mdui-appbar">
  <div class="mdui-toolbar mdui-color-indigo">
    <a href="http://www.bu40.com" class="mdui-typo-headline">B4工具集</a>
    <div class="mdui-toolbar-spacer"></div>
    <a href="javascript:;" class="mdui-btn mdui-btn-icon"><i class="mdui-icon material-icons">search</i></a>
    <a href="javascript:;" class="mdui-btn mdui-btn-icon"><i class="mdui-icon material-icons">refresh</i></a>
    <a href="javascript:;" class="mdui-btn mdui-btn-icon"><i class="mdui-icon material-icons">more_vert</i></a>
  </div>
</div>

<div class="mdui-container-fluid mdui-container">
  </br></br>
生日
<select id="selYear" onchange="Date_OnChanged();" class="mdui-select"><option value="1915">1915</option><option value="1916">1916</option><option value="1917">1917</option><option value="1918">1918</option><option value="1919">1919</option><option value="1920">1920</option><option value="1921">1921</option><option value="1922">1922</option><option value="1923">1923</option><option value="1924">1924</option><option value="1925">1925</option><option value="1926">1926</option><option value="1927">1927</option><option value="1928">1928</option><option value="1929">1929</option><option value="1930">1930</option><option value="1931">1931</option><option value="1932">1932</option><option value="1933">1933</option><option value="1934">1934</option><option value="1935">1935</option><option value="1936">1936</option><option value="1937">1937</option><option value="1938">1938</option><option value="1939">1939</option><option value="1940">1940</option><option value="1941">1941</option><option value="1942">1942</option><option value="1943">1943</option><option value="1944">1944</option><option value="1945">1945</option><option value="1946">1946</option><option value="1947">1947</option><option value="1948">1948</option><option value="1949">1949</option><option value="1950">1950</option><option value="1951">1951</option><option value="1952">1952</option><option value="1953">1953</option><option value="1954">1954</option><option value="1955">1955</option><option value="1956">1956</option><option value="1957">1957</option><option value="1958">1958</option><option value="1959">1959</option><option value="1960">1960</option><option value="1961">1961</option><option value="1962">1962</option><option value="1963">1963</option><option value="1964">1964</option><option value="1965">1965</option><option value="1966">1966</option><option value="1967">1967</option><option value="1968">1968</option><option value="1969">1969</option><option value="1970">1970</option><option value="1971">1971</option><option value="1972">1972</option><option value="1973">1973</option><option value="1974">1974</option><option value="1975">1975</option><option value="1976">1976</option><option value="1977">1977</option><option value="1978">1978</option><option value="1979">1979</option><option value="1980">1980</option><option value="1981">1981</option><option value="1982">1982</option><option value="1983">1983</option><option value="1984">1984</option><option value="1985">1985</option><option value="1986">1986</option><option value="1987">1987</option><option value="1988">1988</option><option value="1989">1989</option><option value="1990">1990</option><option value="1991">1991</option><option value="1992">1992</option><option value="1993">1993</option><option value="1994">1994</option><option value="1995">1995</option><option value="1996">1996</option><option value="1997">1997</option><option value="1998">1998</option><option value="1999">1999</option><option value="2000">2000</option><option value="2001">2001</option><option value="2002">2002</option><option value="2003">2003</option><option value="2004">2004</option><option value="2005">2005</option><option value="2006">2006</option><option value="2007">2007</option><option value="2008">2008</option><option value="2009">2009</option><option value="2010">2010</option><option value="2011">2011</option><option value="2012">2012</option><option value="2013">2013</option><option value="2014">2014</option><option value="2015">2015</option><option value="2016">2016</option><option value="2017">2017</option><option value="2018">2018</option><option value="2019">2019</option><option value="2020">2020</option></select>
<select id="selMonth" onchange="Date_OnChanged();" class="mdui-select" mdui-select>
<option value="1">01</option>
<option value="2">02</option>
<option value="3">03</option>
<option value="4">04</option>
<option value="5">05</option>
<option value="6">06</option>
<option value="7">07</option>
<option value="8">08</option>
<option value="9">09</option>
<option value="10">10</option>
<option value="11">11</option>
<option value="12">12</option>
</select>
<select id="selDay" class="mdui-select" mdui-select><option value="1">01</option><option value="2">02</option><option value="3">03</option><option value="4">04</option><option value="5">05</option><option value="6">06</option><option value="7">07</option><option value="8">08</option><option value="9">09</option><option value="10">10</option><option value="11">11</option><option value="12">12</option><option value="13">13</option><option value="14">14</option><option value="15">15</option><option value="16">16</option><option value="17">17</option><option value="18">18</option><option value="19">19</option><option value="20">20</option><option value="21">21</option><option value="22">22</option><option value="23">23</option><option value="24">24</option><option value="25">25</option><option value="26">26</option><option value="27">27</option><option value="28">28</option><option value="29">29</option><option value="30">30</option></select>
<br />
<br />
性别
<select id="selSex" class="mdui-select" mdui-select>
<option value="0">男</option>
<option value="1">女</option>
</select>
<br />
<br />
身高
<input type="text"  size="3" maxlength="3" id="txtHeight" />
CM
<br />
<br />
体重
<input type="text" size="3" maxlength="3" id="txtWeight" />
KG
<br />
<br />
心态
<select id="selMind" class="mdui-select" mdui-select>
<option value="0">一般</option>
<option value="1">乐观</option>
<option value="2">悲观</option>
<option value="3">伤感</option>
</select>
<br />
<br />
吸烟
<select id="selSmoke" class="mdui-select" mdui-select>
<option value="0">不吸</option>
<option value="1">吸烟</option>
</select>
</div >
</br>
<div class="mdui-container">
<input  type="button" id="btnCalc" onclick="btnCalc_OnClick();" value="计算" class="mdui-btn mdui-btn-raised mdui-ripple mdui-color-theme-accent "/>
<input type="button" id="btnReset" onclick="btnReset_OnClick();" value="重置" class="mdui-btn mdui-btn-raised mdui-ripple mdui-color-theme-accent"/>
</div>
</br>
<div id="dieDate">

</div>
<div id="lifeLeft">

</div>
</br>
死亡计算器，本结果仅供参考和娱乐，请不要当真
<script>
/*  $(document).ready(function () {
    init();
}); */
function getDaysOfMonth(year, month) {
    var days = new Date(year, month, 0);
    return days.getDate(); //获取当前日期中的月的天数
}

function Date_OnChanged() {
    var oldDay = $("#selDay").val();
    var y = $("#selYear").val();
    var m = $("#selMonth").val();
    var daysOfMonth = getDaysOfMonth(y, m);
    $("#selDay").empty();
    for (var i = 1; i <= daysOfMonth; i++) {
        var option;
        if (i < 10) {
            option = $("<option>").val(i).text("0" + i);
        } else {
            option = $("<option>").val(i).text(i);
        }
        $("#selDay").append(option);
    }
    if (oldDay > daysOfMonth) {
        $("#selDay").val(1);
    } else {
        $("#selDay").val(oldDay);
    }
}
function init() {
    var nowDt = new Date();
    var nYear = nowDt.getFullYear();
    var nMonth = Number(nowDt.getMonth()) + 1;
    var nday = nowDt.getDate();

    var _option;
    $("#selYear").empty();
    for (var j = 1915; j <= nYear; j++) {
        _option = $("<option>").val(j).text(j);
        $("#selYear").append(_option);
    }
    $("#selYear").val(nYear);
    $("#selMonth").val(nMonth);
    $("#selDay").empty();
    var daysOfMonth = getDaysOfMonth(nYear, nMonth);
    for (var i = 1; i <= daysOfMonth; i++) {
        var option;
        if (i < 10) {
            option = $("<option>").val(i).text("0" + i);
        } else {
            option = $("<option>").val(i).text(i);
        }
        $("#selDay").append(option);
    }
    $("#selDay").val(nday);

    document.getElementById("txtHeight").value = "";
    document.getElementById("txtWeight").value = "";
    $("#selSex").val(0);
    $("#selMind").val(1);
    $("#selSmoke").val(0);
    $("#dieDate")[0].innerText = "";
    $("#lifeLeft")[0].innerText = "";
}

function btnCalc_OnClick() {
    var year = $("#selYear").val();
    var month = $("#selMonth").val();
    var day = $("#selDay").val();

    var sex = $("#selSex").val();
    var smoke = $("#selSmoke").val();
    var mind = $("#selMind").val();

    var height = parseFloat($("#txtHeight").val());
    if (isNaN(height)) {
        alert("无效的身高数据");
        $("#txtHeight")[0].focus();
        $("#txtHeight")[0].select();
        return;
    }
    if ((height > 250) || (height <= 0)) {
        alert("身高超出正常范围");
        $("#txtHeight")[0].focus();
        $("#txtHeight")[0].select();
        return
    }
    $("#txtHeight").val(height);

    var weight = parseFloat($("#txtWeight").val());
    if (isNaN(weight)) {
        alert("无效的体重数据");
        $("#txtWeight")[0].focus();
        $("#txtWeight")[0].select();
        return;
    }
    if ((weight > 250) || (weight <= 0)) {
        alert("体重超出正常范围");
        $("#txtWeight")[0].focus();
        $("#txtWeight")[0].select();
        return
    }
    $("#txtWeight").val(weight);
    //体重指数
    var _BMI = BMI(weight, height / 100);
    _BMI = _BMI.toFixed(1);
    _BMI = parseFloat(_BMI);
    calc(year, month, day, _BMI, sex, mind, smoke);
}

function btnReset_OnClick() {
    init();
}
//体质指数 = 体重(kg)/身高的平方(m)
function BMI(weight, height) {
    return weight / eval(height * height);
}

function calc(year, month, day, bmi, sex, mind, smoke) {
    if (bmi <= 0) return;
    var myLife = 90;

    myLife = myLife + bmiYears(bmi);

    if (sex == 1)
        myLife = myLife + 5; //女性一般比男性多活几年

    if (mind == 1)
        myLife = myLife + 5      //乐观
    else if (mind == 2)
        myLife = myLife - 10     //悲观
    else if (mind == 2)
        myLife = myLife - 5;  //伤感

    if (smoke == 1) //吸烟-5
        myLife = myLife - 5;


    var dtBirth = new Date(year, month - 1, day);

    dtDie = new Date(Date.parse(dtBirth) + (86400000 * 365 * myLife));
 
    var dtNow = new Date();
    var days = parseInt((dtDie - dtNow) / 86400000);
    $("#dieDate")[0].innerText = dtDie.getFullYear() + "年" + (dtDie.getMonth() + 1) + "月" + (dtDie.getDate()) + "日 享年" + myLife + "岁";
   
    $("#lifeLeft")[0].innerText = days + "天";
}

function bmiYears(bmi) {
    var years = 0;
    if (bmi >= 40)
    //bmiMsg='非常严重肥胖'
        years = -10;
    else if ((bmi >= 30) && (bmi < 40))
        years = -7; //bmiMsg='严重肥胖'
    else if ((bmi >= 27) && (bmi < 30))
        years = -5; //bmiMsg='中度肥胖'
    else if ((bmi >= 24) && (bmi < 27))
        years = -3; //bmiMsg='肥胖前期'
    else if ((bmi > 18.5) && (bmi < 24))
        years = 3; //bmiMsg='正常范围'
    else
        years = -5;  //bmiMsg='体重过低';
    return years;
}
</script>
<script src="//www.bu40.com/jquery.js"></script>

<script src="//cdnjs.loli.net/ajax/libs/mdui/0.4.3/js/mdui.min.js"></script>
<script type="text/javascript" src="//js.users.51.la/20606147.js"></script>
</body>
</html>
